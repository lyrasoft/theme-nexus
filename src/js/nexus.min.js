System.register(["@windwalker-io/unicorn-next","bootstrap"],(function(e,t){"use strict";var n,o,i,r;t&&t.id;return e("useNexusTheme",(function(){return i??(i=(new r).init()),i})),{setters:[function(e){n=e},function(e){o=e}],execute:function(){r=class{init(){return n.domready((()=>{this.initRipple(),this.initSidebarToggle(),this.initSidebarMenu(),this.initFullscreen()})),n.useMacro("logout",(async(e,t)=>{if(!e)throw new Error("Please provide logout URL.");return(await n.useFormAsync()).post(e,t)})),this}initRipple(){if(!window.Ribble)return;n.useUniDirective("ripple",{mounted(e,{value:t}){t=t?JSON.parse(t):void 0,Ribble.attachEvent(e,t)}});const e=document.querySelector("#admin-toolbar")?.querySelectorAll("a, button")||[];for(const t of e)Ribble.attachEvent(t)}initSidebarToggle(){const e=document.querySelector('[data-nx-toggle="sidebar"]');e?.addEventListener("click",(()=>{window.innerWidth<=991?(document.body.classList.remove("sidebar-collapsed"),document.body.classList.toggle("sidebar-enabled")):(document.body.classList.remove("sidebar-enabled"),document.body.classList.toggle("sidebar-collapsed"))}))}initSidebarMenu(){const e=document.querySelectorAll(".l-sidebar .dropdown-toggle");for(const t of e){const e=t.closest(".dropdown")?.querySelector(".dropdown-menu");if(!e)continue;const n=o.Collapse.getOrCreateInstance(e,{toggle:!1});t.addEventListener("click",(()=>{t.classList.toggle("show")?n.show():n.hide()}))}}initFullscreen(){const e=document.querySelectorAll("[data-nx-toggle=fullscreen]");for(const t of e)t.addEventListener("click",(()=>{if(document.fullscreenElement)document.cancelFullscreen?.()||document.mozCancelFullScreen?.()||document.webkitCancelFullScreen?.();else{let e=document.body;t.dataset.bsTarget&&(e=document.querySelector(t.dataset.bsTarget)),e&&(e.requestFullscreen?.()||e.mozRequestFullscreen?.()||e.webkitRequestFullscreen?.())}}))}}}}}));